# OnceHumanå·¥å…·é›†

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„OnceHumanæ¸¸æˆå·¥å…·é›†ï¼Œæä¾›Webç•Œé¢ã€REST APIå’ŒDiscordæœºå™¨äººå¤šç§ä½¿ç”¨æ–¹å¼ã€‚

## ğŸŒŸ ç‰¹æ€§

- **æ¨¡ç»„è¯æ¡æ¦‚ç‡è®¡ç®—å™¨** - ç²¾ç¡®è®¡ç®—ç‰¹å®šè¯æ¡ç»„åˆå‡ºç°çš„æ¦‚ç‡
- **æ¨¡ç»„å¼ºåŒ–æ¦‚ç‡è®¡ç®—å™¨** - è®¡ç®—è¯æ¡å¼ºåŒ–åˆ°ç›®æ ‡ç­‰çº§çš„æˆåŠŸç‡
- **ç‚«é…·ç§‘å¹»UI** - é‡‡ç”¨Vue3æ‰“é€ çš„æ²‰æµ¸å¼ç§‘å¹»é£æ ¼ç•Œé¢
- **RESTful API** - åŸºäºGoå’ŒSwaggerçš„é«˜æ€§èƒ½åç«¯æœåŠ¡
- **Discordæœºå™¨äºº** - ä½¿ç”¨ç°ä»£åŒ–çš„Slash Commandsäº¤äº’æ–¹å¼
- **å¤šå¹³å°æ”¯æŒ** - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•åˆ°Telegramã€Slackç­‰å¹³å°
- **å¯æ‰©å±•æ¶æ„** - è½»æ¾æ·»åŠ æ–°çš„æ¸¸æˆå·¥å…·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åç«¯æœåŠ¡

```bash
cd backend
go mod tidy
make run
```

APIæ–‡æ¡£å°†åœ¨ http://localhost:8080/docs å¯ç”¨

### å‰ç«¯åº”ç”¨

```bash
cd frontend
npm install
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹åº”ç”¨

### Discordæœºå™¨äººï¼ˆäº¤äº’å¼å‘½ä»¤ï¼‰

1. åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå‚è€ƒ `bot/.env.example`ï¼‰ï¼š
```env
DISCORD_BOT_TOKEN=your_discord_bot_token
DISCORD_GUILD_ID=your_guild_idï¼ˆå¯é€‰ï¼Œç”¨äºå¼€å‘æµ‹è¯•ï¼‰
BOT_DEV_MODE=false
```

2. è¿è¡Œæœºå™¨äººï¼š
```bash
cd bot
go mod download
go run main.go
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### Webç•Œé¢

1. è®¿é—®é¦–é¡µï¼Œé€‰æ‹©éœ€è¦çš„å·¥å…·
2. è¾“å…¥å‚æ•°ï¼Œç‚¹å‡»è®¡ç®—
3. æŸ¥çœ‹è¯¦ç»†çš„è®¡ç®—ç»“æœå’Œå¯è§†åŒ–å›¾è¡¨

### Discordäº¤äº’å¼å‘½ä»¤ï¼ˆSlash Commandsï¼‰

- `/help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `/affix` - è®¡ç®—è¯æ¡æ¦‚ç‡
  - `slots`: è¯æ¡æ•°é‡ (1-10)
  - `targets`: ç›®æ ‡è¯æ¡IDåˆ—è¡¨ï¼Œé€—å·åˆ†éš”
  - `show_combinations`: æ˜¯å¦æ˜¾ç¤ºè¯¦ç»†ç»„åˆ
- `/strengthen single` - è®¡ç®—å•ä¸ªè¯æ¡å¼ºåŒ–æ¦‚ç‡
  - `affix_id`: è¯æ¡ID (1-10)
  - `current_level`: å½“å‰ç­‰çº§ (0-5)
  - `target_level`: ç›®æ ‡ç­‰çº§ (1-5)
  - `slot_count`: è¯æ¡æ•°é‡
  - `tries`: å¼ºåŒ–æ¬¡æ•°
- `/strengthen multi` - è®¡ç®—å¤šä¸ªè¯æ¡å¼ºåŒ–æ¦‚ç‡
  - `targets`: æ ¼å¼ ID:å½“å‰:ç›®æ ‡ï¼Œé€—å·åˆ†éš”
  - `slot_count`: è¯æ¡æ•°é‡
  - `tries`: å¼ºåŒ–æ¬¡æ•°

ç¤ºä¾‹ï¼š
```
/affix slots:4 targets:1,4,5
/strengthen single affix_id:1 current_level:0 target_level:3 slot_count:4 tries:50
/strengthen multi targets:1:0:3,4:1:5 slot_count:4 tries:100
```

### APIæ¥å£

#### å¥åº·æ£€æŸ¥
```
GET /api/v1/health
```

#### è·å–è¯æ¡åˆ—è¡¨
```
GET /api/v1/mod/affix/list
```

#### è®¡ç®—è¯æ¡æ¦‚ç‡
```
POST /api/v1/mod/affix/probability
{
  "slotCount": 3,
  "targetAffixIds": [1, 4, 5, 6],
  "showCombinations": true
}
```

#### è®¡ç®—å¼ºåŒ–æ¦‚ç‡
```
POST /api/v1/mod/strengthen/probability
{
  "initialLevels": [1, 2, 3, 1],
  "targetLevels": [3, 4, 5, 2],
  "orderIndependent": true,
  "showPaths": false
}
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
OnceHumanTools/
â”œâ”€â”€ backend/          # Goåç«¯æœåŠ¡
â”‚   â”œâ”€â”€ api/         # Swagger APIå®šä¹‰
â”‚   â”œâ”€â”€ cmd/         # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ internal/    # å†…éƒ¨å®ç°
â”‚   â””â”€â”€ pkg/         # å…¬å…±åŒ…
â”œâ”€â”€ frontend/        # Vue3å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/     # APIè°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ views/   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ styles/  # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ bot/            # å¤šå¹³å°æœºå™¨äººæ¨¡å—
â”‚   â”œâ”€â”€ core/       # æ ¸å¿ƒæ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ platforms/  # å„å¹³å°å®ç°
â”‚   â”‚   â””â”€â”€ discord/# Discordå¹³å°
â”‚   â””â”€â”€ shared/     # å…±äº«ç»„ä»¶
â””â”€â”€ docs/          # æ–‡æ¡£
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- Go 1.21+
- go-swagger
- Gorilla Mux
- CORSä¸­é—´ä»¶

### å‰ç«¯
- Vue 3
- Vite
- Element Plus
- Chart.js
- Three.js
- SCSS

### æœºå™¨äººæ¨¡å—
- discordgo (Discordå¹³å°)
- äº¤äº’å¼å‘½ä»¤ (Slash Commands)
- æ¨¡å—åŒ–æ¶æ„ï¼Œæ”¯æŒå¤šå¹³å°æ‰©å±•
- æ¥å£é©±åŠ¨è®¾è®¡

## ğŸ“Š æ¸¸æˆæœºåˆ¶è¯´æ˜

### è¯æ¡ç³»ç»Ÿ
- æ¸¸æˆä¸­å…±æœ‰10ç§ä¸åŒçš„è¯æ¡
- åŒä¸€ä¸ªæ¨¡ç»„ä¸­ï¼Œç›¸åŒè¯æ¡ä¸ä¼šé‡å¤å‡ºç°
- æ¯æ¬¡éšæœºéƒ½æ˜¯ä»å‰©ä½™çš„è¯æ¡æ± ä¸­é€‰æ‹©

### å¼ºåŒ–ç³»ç»Ÿ
- ä¸€ä¸ªæ¨¡ç»„æ€»å…±æœ‰4ä¸ªè¯æ¡
- æ¯ä¸ªè¯æ¡æœ€ä½1çº§ï¼Œæœ€é«˜5çº§
- æ€»å…±æœ‰5æ¬¡å¼ºåŒ–æœºä¼š
- æ¯æ¬¡å¼ºåŒ–éšæœºå¼ºåŒ–4ä¸ªè¯æ¡ä¸­çš„ä¸€ä¸ª
- å¦‚æœæœ‰è¯æ¡åˆ°è¾¾5çº§ï¼Œä¸‹æ¬¡å¼ºåŒ–æ—¶è¯¥è¯æ¡ä¸ä¼šåœ¨éšæœºèŒƒå›´å†…

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯

MIT License